{"version":3,"sources":["Unitoggle.js"],"names":["Unitoggle","options","container","document","body","querySelector","dataAttr","activeClass","activateInputs","onOpen","onClose","button","init","addEventListener","clickButton","bind","activateTabs","e","target","matches","closest","tabID","dataset","tab","getElementById","hasAttribute","classList","contains","inactivate","closeGroup","getAttribute","activate","searchString","id","buttons","Array","from","querySelectorAll","enableInputs","add","forEach","remove","disableInputs","groupID","groupButtons","inputs","input","removeAttribute","setAttribute"],"mappings":"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","sourcesContent":["/**\n * Author and copyright: Tishuk Nadezda (https://github.com/rainjeck)\n * Repository: https://github.com/rainjeck/unitoggle\n */\n\nexport default class Unitoggle {\n  constructor(options = {}) {\n    this.container = document.body;\n\n    if (typeof options.container === 'string') {\n      this.container = document.querySelector(options.container) || document.body;\n    }\n\n    if (typeof options.container === 'object') {\n      this.container = options.container;\n    }\n    this.dataAttr = options.dataAttr || 'toggle'; // [data-{dataAttr}]\n    this.activeClass = options.activeClass || 'is-active'; // class name for add\n    this.activateInputs = options.activateInputs || false; // activate inputs when open/on\n    this.onOpen = options.onOpen || ''; // after Open\n    this.onClose = options.onClose || ''; // after Close\n\n    this.button = options.button || `[data-${this.dataAttr}]`;\n\n\n    this.init();\n  }\n\n  init() {\n    this.container.addEventListener('click', this.clickButton.bind(this));\n    this.activateTabs();\n  }\n\n  clickButton(e) {\n    let button = e.target;\n\n    if (!e.target.matches(this.button) && !e.target.closest(this.button)) {\n      return;\n    }\n\n    if (!e.target.matches(this.button) && e.target.closest(this.button)) {\n      button = e.target.closest(this.button);\n    }\n\n    const tabID = button.dataset[this.dataAttr];\n    const tab = document.getElementById(tabID);\n\n    if (button.hasAttribute(`data-${this.dataAttr}-accordion`) && button.classList.contains(this.activeClass)) {\n      this.inactivate(tab);\n      return;\n    }\n\n    if (button.hasAttribute(`data-${this.dataAttr}-group`)) {\n      this.closeGroup(button.getAttribute(`data-${this.dataAttr}-group`));\n    }\n\n    this.activate(tab);\n  }\n\n  activate(tab) {\n    const searchString = `[data-${this.dataAttr}=\"${tab.id}\"]`;\n    const buttons = Array.from(document.querySelectorAll(searchString));\n\n    if (tab.classList.contains(this.activeClass)) {\n\n      this.inactivate(tab);\n      return;\n    }\n\n    if (this.activateInputs) {\n      this.enableInputs(tab);\n    }\n\n    tab.classList.add(this.activeClass);\n\n    buttons.forEach(button => {\n      button.classList.add(this.activeClass);\n    });\n\n    if (this.onOpen && typeof this.onOpen === 'function') {\n      this.onOpen(tab);\n    }\n  }\n\n  inactivate(tab) {\n    const searchString = `[data-${this.dataAttr}=\"${tab.id}\"]`;\n    const buttons = Array.from(document.querySelectorAll(searchString));\n\n    buttons.forEach(button => {\n      button.classList.remove(this.activeClass);\n    });\n\n    tab.classList.remove(this.activeClass);\n\n    if (this.activateInputs) {\n      this.disableInputs(tab);\n    }\n\n    if (this.onClose && typeof this.onClose === 'function') {\n      this.onClose(tab);\n    }\n  }\n\n  activateTabs() {\n    const buttons = Array.from(this.container.querySelectorAll(`[data-${this.dataAttr}-group].${this.activeClass}`));\n\n    if (buttons) {\n      buttons.forEach(button => {\n        const tabID = button.dataset[this.dataAttr];\n        const tab = document.getElementById(tabID);\n\n        this.activate(tab);\n      });\n    }\n  }\n\n  closeGroup(groupID) {\n    const groupButtons = Array.from(document.querySelectorAll(`[data-${this.dataAttr}-group=\"${groupID}\"]`));\n\n    groupButtons.forEach(button => {\n      button.classList.remove(this.activeClass);\n\n      const tabID = button.dataset[this.dataAttr];\n      const tab = document.getElementById(tabID);\n\n      tab.classList.remove(this.activeClass);\n\n      if (this.activateInputs) {\n        this.disableInputs(tab);\n      }\n    });\n  }\n\n  enableInputs(tab) {\n    const inputs = Array.from(tab.querySelectorAll('input, select, textarea'));\n\n    inputs.forEach(input => {\n      input.removeAttribute('disabled');\n    });\n  }\n\n  disableInputs(tab) {\n    const inputs = Array.from(tab.querySelectorAll('input, select, textarea'));\n\n    inputs.forEach(input => {\n      input.setAttribute('disabled', true);\n    });\n  }\n}\n"],"file":"../src/unitoggle.js"}